{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THUY TRANG\\\\Downloads\\\\Qtcsdl\\\\DoAn_QTCSDLHD\\\\qtcsdlhd__fe\\\\src\\\\ShopManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport SellerProduct from './SellerProduct';\nimport VoucherManagement from './VoucherManagement';\nimport './ShopManagement.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShopManagement() {\n  _s();\n  var _detailProduct$price;\n  const [products, setProducts] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [search, setSearch] = useState('');\n  const [tab, setTab] = useState('all');\n  const [detailProduct, setDetailProduct] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [sortField, setSortField] = useState('');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [deleteProductId, setDeleteProductId] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showVoucherModal, setShowVoucherModal] = useState(false);\n  const [vouchers, setVouchers] = useState([]);\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchVouchers();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('http://localhost:8080/api/seller/products/mine', {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error('Network response was not ok');\n      const data = await res.json();\n      setProducts(data);\n    } catch (err) {\n      alert('Không thể tải sản phẩm');\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const res = await fetch('http://localhost:8080/api/categories');\n      if (!res.ok) throw new Error('Network response was not ok');\n      const data = await res.json();\n      setCategories(data);\n    } catch (err) {\n      console.error('Failed to fetch categories', err);\n    }\n  };\n  const fetchVouchers = async () => {\n    const token = localStorage.getItem('token');\n    const res = await fetch('http://localhost:8080/api/vouchers/shop', {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    if (res.ok) {\n      setVouchers(await res.json());\n    } else {\n      setVouchers([]);\n    }\n  };\n  const handleEdit = product => {\n    setEditProduct(product);\n    setShowForm(true);\n  };\n  const handleAdd = () => {\n    setEditProduct(null);\n    setShowForm(true);\n  };\n  const handleFormClose = reload => {\n    setShowForm(false);\n    setEditProduct(null);\n    if (reload) fetchProducts();\n  };\n\n  // Lọc sản phẩm theo tab và category\n  const filteredProducts = products.filter(p => {\n    let matchTab = true;\n    if (tab === 'all') matchTab = true;\n    if (selectedCategory !== 'all' && p.category !== selectedCategory) return false;\n    if (search && !p.name.toLowerCase().includes(search.toLowerCase())) return false;\n    return matchTab;\n  });\n\n  // Sắp xếp sản phẩm theo trường được chọn\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (!sortField) return 0;\n    let aValue = a[sortField] || 0;\n    let bValue = b[sortField] || 0;\n    if (typeof aValue === 'string') aValue = aValue.toLowerCase();\n    if (typeof bValue === 'string') bValue = bValue.toLowerCase();\n    if (aValue < bValue) return sortOrder === 'asc' ? -1 : 1;\n    if (aValue > bValue) return sortOrder === 'asc' ? 1 : -1;\n    return 0;\n  });\n\n  // Hàm xử lý khi click vào tiêu đề cột để sắp xếp\n  function handleSort(field) {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder('asc');\n    }\n  }\n\n  // Hàm xóa sản phẩm\n  function handleDelete(id) {\n    setDeleteProductId(id);\n    setShowDeleteModal(true);\n  }\n  function confirmDelete() {\n    const id = deleteProductId;\n    setShowDeleteModal(false);\n    setDeleteProductId(null);\n    if (!id) return;\n    try {\n      const token = localStorage.getItem('token');\n      fetch(`http://localhost:8080/api/seller/products/${id}`, {\n        method: 'DELETE',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(res => {\n        if (!res.ok) throw new Error('Delete failed');\n        setProducts(products => products.filter(p => p._id !== id));\n      }).catch(() => alert('Xóa thất bại'));\n    } catch (err) {\n      alert('Xóa thất bại');\n    }\n  }\n\n  // Lấy danh sách category duy nhất từ sản phẩm\n  const uniqueCategories = Array.from(new Set(products.map(p => p.category).filter(Boolean)));\n\n  // Hàm xử lý thay đổi category\n  function handleCategoryChange(e) {\n    setSelectedCategory(e.target.value);\n  }\n\n  // Hàm lấy mã voucher áp dụng cho sản phẩm\n  function getVoucherCodeForProduct(productId) {\n    const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(productId));\n    return voucher ? voucher.code : 'Chưa áp dụng';\n  }\n\n  // Thêm hàm xử lý hủy áp dụng voucher\n  function handleRemoveVoucher(productId) {\n    const token = localStorage.getItem('token');\n    const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(productId));\n    if (!voucher) {\n      alert('Không tìm thấy voucher để hủy');\n      return;\n    }\n    fetch('http://localhost:8080/api/vouchers/remove-product', {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        voucherId: voucher.id,\n        productId\n      })\n    }).then(async res => {\n      const text = await res.text();\n      if (!res.ok) throw new Error(text || 'Hủy áp dụng voucher thất bại');\n      fetchVouchers();\n      alert('Hủy áp dụng voucher thành công');\n    }).catch(err => alert('Hủy áp dụng voucher thất bại: ' + err.message));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-management-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-title\",\n        children: \"Qu\\u1EA3n L\\xFD S\\u1EA3n Ph\\u1EA9m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-item active\",\n        children: \"T\\u1EA5t C\\u1EA3 S\\u1EA3n Ph\\u1EA9m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabs\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category-select\",\n            className: \"category-select\",\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"T\\u1EA5t c\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), uniqueCategories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"header-btn\",\n            onClick: () => setShowVoucherModal(true),\n            children: \"Qu\\u1EA3n l\\xFD voucher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: handleAdd,\n            children: \"+ Th\\xEAm 1 s\\u1EA3n ph\\u1EA9m m\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search-input\",\n          placeholder: \"T\\xECm t\\xEAn s\\u1EA3n ph\\u1EA9m, SKU...\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"filter-btn\",\n          children: \"\\xC1p d\\u1EE5ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"product-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontSize: '15px'\n                },\n                children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontSize: '15px',\n                  cursor: 'pointer'\n                },\n                onClick: () => handleSort('price'),\n                children: [\"Gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '13px'\n                  },\n                  children: \"\\u2195\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontSize: '15px',\n                  cursor: 'pointer'\n                },\n                onClick: () => handleSort('stock'),\n                children: [\"Kho h\\xE0ng \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '13px'\n                  },\n                  children: \"\\u2195\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontSize: '15px'\n                },\n                children: \"\\xC1p d\\u1EE5ng voucher\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontSize: '15px'\n                },\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [sortedProducts.map(product => {\n              var _product$price;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  fontSize: '15px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"product-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: product.image_url,\n                      alt: product.name,\n                      className: \"product-img larger\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"product-name\",\n                        style: {\n                          fontSize: '18px',\n                          fontWeight: 700\n                        },\n                        children: product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [(_product$price = product.price) === null || _product$price === void 0 ? void 0 : _product$price.toLocaleString('vi-VN'), \" VND\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: product.stock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (() => {\n                    const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(product._id));\n                    if (voucher) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          flexDirection: 'column',\n                          alignItems: 'flex-start'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: voucher.code\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 256,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            marginTop: 4,\n                            fontSize: 13,\n                            color: '#e53935',\n                            background: 'none',\n                            border: '1px solid #e53935',\n                            borderRadius: 4,\n                            padding: '2px 8px',\n                            cursor: 'pointer'\n                          },\n                          onClick: () => handleRemoveVoucher(product._id),\n                          children: \"H\\u1EE7y \\xE1p d\\u1EE5ng\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 27\n                      }, this);\n                    } else {\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Ch\\u01B0a \\xE1p d\\u1EE5ng\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 32\n                      }, this);\n                    }\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-btn-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"action-btn\",\n                      onClick: () => handleEdit(product),\n                      children: \"C\\u1EADp nh\\u1EADt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"action-btn\",\n                      onClick: () => setDetailProduct(product),\n                      children: \"Xem th\\xEAm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"action-btn delete-btn\",\n                      onClick: () => handleDelete(product._id),\n                      children: \"X\\xF3a\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this)]\n              }, product._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this);\n            }), sortedProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"7\",\n                style: {\n                  textAlign: 'center',\n                  color: '#888'\n                },\n                children: \"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(SellerProduct, {\n      product: editProduct,\n      onClose: handleFormClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 20\n    }, this), detailProduct && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: '#0008',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 2000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 12,\n          padding: 32,\n          minWidth: 340,\n          maxWidth: 400,\n          boxShadow: '0 2px 16px #0002',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setDetailProduct(null),\n          style: {\n            position: 'absolute',\n            top: 12,\n            right: 18,\n            background: 'none',\n            border: 'none',\n            fontSize: 22,\n            cursor: 'pointer'\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), detailProduct.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: detailProduct.image_url,\n          alt: detailProduct.name,\n          style: {\n            width: '100%',\n            height: 220,\n            objectFit: 'cover',\n            borderRadius: 8,\n            marginBottom: 16\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 22,\n            color: '#222',\n            marginBottom: 8\n          },\n          children: detailProduct.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600,\n            color: '#e53935',\n            fontSize: 18,\n            marginBottom: 8\n          },\n          children: [(_detailProduct$price = detailProduct.price) === null || _detailProduct$price === void 0 ? void 0 : _detailProduct$price.toLocaleString('vi-VN'), \" VND\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: detailProduct.stock === 0 ? '#e53935' : '#666',\n            fontSize: 15,\n            marginBottom: 8\n          },\n          children: detailProduct.stock === 0 ? 'Hết hàng' : `Tồn kho: ${detailProduct.stock}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 15,\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Danh m\\u1EE5c:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 60\n          }, this), \" \", detailProduct.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 15,\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"M\\xF4 t\\u1EA3:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 61\n          }, this), \" \", detailProduct.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), (detailProduct.updated_at || detailProduct.created_at) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14,\n            color: '#888',\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Th\\u1EDDi gian c\\u1EADp nh\\u1EADt:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 17\n          }, this), \" \", detailProduct.updated_at ? new Date(detailProduct.updated_at).toLocaleString('vi-VN') : new Date(detailProduct.created_at).toLocaleString('vi-VN')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: '#0008',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 3000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 10,\n          padding: 32,\n          minWidth: 320,\n          boxShadow: '0 2px 16px #0002',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 18,\n            fontWeight: 600,\n            marginBottom: 18\n          },\n          children: \"X\\xE1c nh\\u1EADn x\\xF3a s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 24\n          },\n          children: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a s\\u1EA3n ph\\u1EA9m n\\xE0y?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn delete-btn\",\n            style: {\n              background: '#e53935',\n              color: '#fff'\n            },\n            onClick: confirmDelete,\n            children: \"X\\xF3a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            onClick: () => setShowDeleteModal(false),\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, this), showVoucherModal && /*#__PURE__*/_jsxDEV(VoucherManagement, {\n      onClose: () => setShowVoucherModal(false),\n      onVoucherApplied: fetchVouchers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n_s(ShopManagement, \"ho//GeTTmgL3UC3SqEsziAKZ794=\");\n_c = ShopManagement;\nexport default ShopManagement;\nvar _c;\n$RefreshReg$(_c, \"ShopManagement\");","map":{"version":3,"names":["React","useEffect","useState","SellerProduct","VoucherManagement","jsxDEV","_jsxDEV","ShopManagement","_s","_detailProduct$price","products","setProducts","showForm","setShowForm","editProduct","setEditProduct","search","setSearch","tab","setTab","detailProduct","setDetailProduct","categories","setCategories","selectedCategory","setSelectedCategory","sortField","setSortField","sortOrder","setSortOrder","deleteProductId","setDeleteProductId","showDeleteModal","setShowDeleteModal","showVoucherModal","setShowVoucherModal","vouchers","setVouchers","fetchProducts","fetchCategories","fetchVouchers","token","localStorage","getItem","res","fetch","credentials","headers","ok","Error","data","json","err","alert","console","error","handleEdit","product","handleAdd","handleFormClose","reload","filteredProducts","filter","p","matchTab","category","name","toLowerCase","includes","sortedProducts","sort","a","b","aValue","bValue","handleSort","field","handleDelete","id","confirmDelete","method","then","_id","catch","uniqueCategories","Array","from","Set","map","Boolean","handleCategoryChange","e","target","value","getVoucherCodeForProduct","productId","voucher","find","v","isArray","productIds","code","handleRemoveVoucher","body","JSON","stringify","voucherId","text","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","cat","onClick","placeholder","style","fontSize","cursor","_product$price","type","src","image_url","alt","fontWeight","price","toLocaleString","stock","display","flexDirection","alignItems","marginTop","color","background","border","borderRadius","padding","length","colSpan","textAlign","onClose","position","top","left","right","bottom","justifyContent","zIndex","minWidth","maxWidth","boxShadow","width","height","objectFit","marginBottom","description","updated_at","created_at","Date","gap","onVoucherApplied","_c","$RefreshReg$"],"sources":["C:/Users/THUY TRANG/Downloads/Qtcsdl/DoAn_QTCSDLHD/qtcsdlhd__fe/src/ShopManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport SellerProduct from './SellerProduct';\r\nimport VoucherManagement from './VoucherManagement';\r\nimport './ShopManagement.css';\r\n\r\nfunction ShopManagement() {\r\n  const [products, setProducts] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editProduct, setEditProduct] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [tab, setTab] = useState('all');\r\n  const [detailProduct, setDetailProduct] = useState(null);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [sortField, setSortField] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const [deleteProductId, setDeleteProductId] = useState(null);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showVoucherModal, setShowVoucherModal] = useState(false);\r\n  const [vouchers, setVouchers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCategories();\r\n    fetchVouchers();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch('http://localhost:8080/api/seller/products/mine', {\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (!res.ok) throw new Error('Network response was not ok');\r\n      const data = await res.json();\r\n      setProducts(data);\r\n    } catch (err) {\r\n      alert('Không thể tải sản phẩm');\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await fetch('http://localhost:8080/api/categories');\r\n      if (!res.ok) throw new Error('Network response was not ok');\r\n      const data = await res.json();\r\n      setCategories(data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch categories', err);\r\n    }\r\n  };\r\n\r\n  const fetchVouchers = async () => {\r\n    const token = localStorage.getItem('token');\r\n    const res = await fetch('http://localhost:8080/api/vouchers/shop', {\r\n      headers: { 'Authorization': `Bearer ${token}` }\r\n    });\r\n    if (res.ok) {\r\n      setVouchers(await res.json());\r\n    } else {\r\n      setVouchers([]);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (product) => {\r\n    setEditProduct(product);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setEditProduct(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleFormClose = (reload) => {\r\n    setShowForm(false);\r\n    setEditProduct(null);\r\n    if (reload) fetchProducts();\r\n  };\r\n\r\n  // Lọc sản phẩm theo tab và category\r\n  const filteredProducts = products.filter(p => {\r\n    let matchTab = true;\r\n    if (tab === 'all') matchTab = true;\r\n    if (selectedCategory !== 'all' && p.category !== selectedCategory) return false;\r\n    if (search && !p.name.toLowerCase().includes(search.toLowerCase())) return false;\r\n    return matchTab;\r\n  });\r\n\r\n  // Sắp xếp sản phẩm theo trường được chọn\r\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\r\n    if (!sortField) return 0;\r\n    let aValue = a[sortField] || 0;\r\n    let bValue = b[sortField] || 0;\r\n    if (typeof aValue === 'string') aValue = aValue.toLowerCase();\r\n    if (typeof bValue === 'string') bValue = bValue.toLowerCase();\r\n    if (aValue < bValue) return sortOrder === 'asc' ? -1 : 1;\r\n    if (aValue > bValue) return sortOrder === 'asc' ? 1 : -1;\r\n    return 0;\r\n  });\r\n\r\n  // Hàm xử lý khi click vào tiêu đề cột để sắp xếp\r\n  function handleSort(field) {\r\n    if (sortField === field) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortOrder('asc');\r\n    }\r\n  }\r\n\r\n  // Hàm xóa sản phẩm\r\n  function handleDelete(id) {\r\n    setDeleteProductId(id);\r\n    setShowDeleteModal(true);\r\n  }\r\n  function confirmDelete() {\r\n    const id = deleteProductId;\r\n    setShowDeleteModal(false);\r\n    setDeleteProductId(null);\r\n    if (!id) return;\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      fetch(`http://localhost:8080/api/seller/products/${id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      }).then(res => {\r\n        if (!res.ok) throw new Error('Delete failed');\r\n        setProducts(products => products.filter(p => p._id !== id));\r\n      }).catch(() => alert('Xóa thất bại'));\r\n    } catch (err) {\r\n      alert('Xóa thất bại');\r\n    }\r\n  }\r\n\r\n  // Lấy danh sách category duy nhất từ sản phẩm\r\n  const uniqueCategories = Array.from(new Set(products.map(p => p.category).filter(Boolean)));\r\n\r\n  // Hàm xử lý thay đổi category\r\n  function handleCategoryChange(e) {\r\n    setSelectedCategory(e.target.value);\r\n  }\r\n\r\n  // Hàm lấy mã voucher áp dụng cho sản phẩm\r\n  function getVoucherCodeForProduct(productId) {\r\n    const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(productId));\r\n    return voucher ? voucher.code : 'Chưa áp dụng';\r\n  }\r\n\r\n  // Thêm hàm xử lý hủy áp dụng voucher\r\n  function handleRemoveVoucher(productId) {\r\n    const token = localStorage.getItem('token');\r\n    const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(productId));\r\n    if (!voucher) {\r\n      alert('Không tìm thấy voucher để hủy');\r\n      return;\r\n    }\r\n    fetch('http://localhost:8080/api/vouchers/remove-product', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ voucherId: voucher.id, productId })\r\n    })\r\n      .then(async res => {\r\n        const text = await res.text();\r\n        if (!res.ok) throw new Error(text || 'Hủy áp dụng voucher thất bại');\r\n        fetchVouchers();\r\n        alert('Hủy áp dụng voucher thành công');\r\n      })\r\n      .catch((err) => alert('Hủy áp dụng voucher thất bại: ' + err.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-management-page\">\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar-title\">Quản Lý Sản Phẩm</div>\r\n        <div className=\"sidebar-item active\">Tất Cả Sản Phẩm</div>\r\n        {/* Đã bỏ mục Thêm Sản Phẩm */}\r\n      </div>\r\n      <div className=\"main-content\">\r\n        <div className=\"header-row\">\r\n          <div className=\"tabs\">\r\n            <select\r\n              id=\"category-select\"\r\n              className=\"category-select\"\r\n              value={selectedCategory}\r\n              onChange={e => setSelectedCategory(e.target.value)}\r\n            >\r\n              <option value=\"all\">Tất cả</option>\r\n              {uniqueCategories.map(cat => (\r\n                <option key={cat} value={cat}>{cat}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button className=\"header-btn\" onClick={() => setShowVoucherModal(true)}>Quản lý voucher</button>\r\n            <button className=\"add-btn\" onClick={handleAdd}>+ Thêm 1 sản phẩm mới</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"filter-row\">\r\n          <input\r\n            className=\"search-input\"\r\n            placeholder=\"Tìm tên sản phẩm, SKU...\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n          />\r\n          <button className=\"filter-btn\">Áp dụng</button>\r\n        </div>\r\n        <div className=\"product-table-wrapper\">\r\n          <table className=\"product-table\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th style={{ fontSize: '15px' }}>Tên sản phẩm</th>\r\n                <th style={{ fontSize: '15px', cursor: 'pointer' }} onClick={() => handleSort('price')}>\r\n                  Giá <span style={{ fontSize: '13px' }}>↕</span>\r\n                </th>\r\n                <th style={{ fontSize: '15px', cursor: 'pointer' }} onClick={() => handleSort('stock')}>\r\n                  Kho hàng <span style={{ fontSize: '13px' }}>↕</span>\r\n                </th>\r\n                <th style={{ fontSize: '15px' }}>Áp dụng voucher</th>\r\n                <th style={{ fontSize: '15px' }}>Thao tác</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sortedProducts.map(product => (\r\n                <tr key={product._id} style={{ fontSize: '15px' }}>\r\n                  <td><input type=\"checkbox\" /></td>\r\n                  <td>\r\n                    <div className=\"product-info\">\r\n                      <img src={product.image_url} alt={product.name} className=\"product-img larger\" />\r\n                      <div>\r\n                        <div className=\"product-name\" style={{ fontSize: '18px', fontWeight: 700 }}>{product.name}</div>\r\n                        {/* Đã xóa SKU và ID */}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>{product.price?.toLocaleString('vi-VN')} VND</td>\r\n                  <td>{product.stock}</td>\r\n                  <td>\r\n                    {(() => {\r\n                      const voucher = vouchers.find(v => Array.isArray(v.productIds) && v.productIds.includes(product._id));\r\n                      if (voucher) {\r\n                        return (\r\n                          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start' }}>\r\n                            <span>{voucher.code}</span>\r\n                            <button\r\n                              style={{ marginTop: 4, fontSize: 13, color: '#e53935', background: 'none', border: '1px solid #e53935', borderRadius: 4, padding: '2px 8px', cursor: 'pointer' }}\r\n                              onClick={() => handleRemoveVoucher(product._id)}\r\n                            >\r\n                              Hủy áp dụng\r\n                            </button>\r\n                          </div>\r\n                        );\r\n                      } else {\r\n                        return <span>Chưa áp dụng</span>;\r\n                      }\r\n                    })()}\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"action-btn-group\">\r\n                      <button className=\"action-btn\" onClick={() => handleEdit(product)}>Cập nhật</button>\r\n                      <button className=\"action-btn\" onClick={() => setDetailProduct(product)}>Xem thêm</button>\r\n                      <button className=\"action-btn delete-btn\" onClick={() => handleDelete(product._id)}>Xóa</button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {sortedProducts.length === 0 && (\r\n                <tr><td colSpan=\"7\" style={{ textAlign: 'center', color: '#888' }}>Không có sản phẩm</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      {showForm && <SellerProduct product={editProduct} onClose={handleFormClose} />}\r\n      {detailProduct && (\r\n        <div className=\"modal\" style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: '#0008', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 2000 }}>\r\n          <div style={{ background: '#fff', borderRadius: 12, padding: 32, minWidth: 340, maxWidth: 400, boxShadow: '0 2px 16px #0002', position: 'relative' }}>\r\n            <button onClick={() => setDetailProduct(null)} style={{ position: 'absolute', top: 12, right: 18, background: 'none', border: 'none', fontSize: 22, cursor: 'pointer' }}>&times;</button>\r\n            {detailProduct.image_url && (\r\n              <img src={detailProduct.image_url} alt={detailProduct.name} style={{ width: '100%', height: 220, objectFit: 'cover', borderRadius: 8, marginBottom: 16 }} />\r\n            )}\r\n            <div style={{ fontWeight: 700, fontSize: 22, color: '#222', marginBottom: 8 }}>{detailProduct.name}</div>\r\n            <div style={{ fontWeight: 600, color: '#e53935', fontSize: 18, marginBottom: 8 }}>{detailProduct.price?.toLocaleString('vi-VN')} VND</div>\r\n            <div style={{ color: detailProduct.stock === 0 ? '#e53935' : '#666', fontSize: 15, marginBottom: 8 }}>\r\n              {detailProduct.stock === 0 ? 'Hết hàng' : `Tồn kho: ${detailProduct.stock}`}\r\n            </div>\r\n            <div style={{ fontSize: 15, marginBottom: 8 }}><b>Danh mục:</b> {detailProduct.category}</div>\r\n            <div style={{ fontSize: 15, marginBottom: 16 }}><b>Mô tả:</b> {detailProduct.description}</div>\r\n            {/* Hiển thị thời gian tạo/cập nhật */}\r\n            {(detailProduct.updated_at || detailProduct.created_at) && (\r\n              <div style={{ fontSize: 14, color: '#888', marginBottom: 8 }}>\r\n                <b>Thời gian cập nhật:</b> {detailProduct.updated_at ? new Date(detailProduct.updated_at).toLocaleString('vi-VN') : new Date(detailProduct.created_at).toLocaleString('vi-VN')}\r\n              </div>\r\n            )}\r\n            {/* Đã bỏ nút chỉnh sửa sản phẩm */}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showDeleteModal && (\r\n        <div className=\"modal\" style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: '#0008', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 3000 }}>\r\n          <div style={{ background: '#fff', borderRadius: 10, padding: 32, minWidth: 320, boxShadow: '0 2px 16px #0002', textAlign: 'center' }}>\r\n            <div style={{ fontSize: 18, fontWeight: 600, marginBottom: 18 }}>Xác nhận xóa sản phẩm</div>\r\n            <div style={{ marginBottom: 24 }}>Bạn có chắc muốn xóa sản phẩm này?</div>\r\n            <div style={{ display: 'flex', justifyContent: 'center', gap: 16 }}>\r\n              <button className=\"action-btn delete-btn\" style={{ background: '#e53935', color: '#fff' }} onClick={confirmDelete}>Xóa</button>\r\n              <button className=\"action-btn\" onClick={() => setShowDeleteModal(false)}>Hủy</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showVoucherModal && <VoucherManagement onClose={() => setShowVoucherModal(false)} onVoucherApplied={fetchVouchers} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShopManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}